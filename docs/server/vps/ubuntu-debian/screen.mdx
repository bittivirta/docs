# Screen

Screen on helppokäyttöinen ohjelmisto Unixille, jolla voidaan hallita eri
"ikkunoita". Ei kuitenkaan ihan niin sulavasti, kuin Windowsilla, mutta
tekstipohjaisena kyllä.

## Uuden Screenin luonti

Voit luoda uuden screenin komennolla `screen -S ikkunanNimi`. Screen luodaan
komennon suoritettua välittömästi, jolloin sinulle aukeaa puhdas komentorivi.

![](https://cdn.bittivirta.fi/docimg/crisp/25screen-s_16nhbtl.gif)

Voit vielä tarkistaa, että olet Screenissä komennolla `screen -ls`. Saat listan
Screeneistä. Screenin kohdalla, joka on aktiivinen/käytössä lukee (Attached) ja
muiden mahdollisten screenien kohdalla lukee (Deattached).

![](https://cdn.bittivirta.fi/docimg/crisp/image_1x6afsj.png)

## Screeniin avaaminen

Voit avata olemassa olevan screenin komennolla `screen -r`. Jos screenejä on
kuitenkin useampi, joudut määrittelemään komennon perään, minkä Screenin haluat
avata, esim. `screen -r Test`

![](https://cdn.bittivirta.fi/docimg/crisp/image_1ywo5zw.png)

## Screenistä poistuminen sulkematta sitä

Voit poistua screenistä näppäinyhdistelmällä `Ctrl+A+D`

## Screenin sulkeminen

Voit sulkea screenin komennolla `screen -X -S (nimi/numero) quit` eli esim.
`screen -X -S Test quit`.

## Screenin avaaminen palvelimen uudelleenkäynnistyksen yhteydessä

Screenit eivät kuitenkaan käynnisty automaattisesti, kun käynnistät palvelimen
uudelleen - vaan ne sammuvat. Voit kuitenkin luoda cron jobin, joka luo
automaattisesti aina tietyn Screenin, kun palvelin käynnistyy.

Tämä onnistuu, kun avaat contabin komennolla `crontab -e`. Ensimmäisen komennon
suorituksen jälkeen palvelin kysyy, mitä editoria haluat käyttää crontabin
muokkaamiseen tulevaisuudessa. Suosittelemme uusille Unixin käyttäjille editoria
Nano.

Editoriin kirjoita seuraavanlainen komento:
`@reboot screen -s screeninNimi komento`

Korvaa screeninNimi haluamallasi nimellä (ei välilyöntejä tai erikoismerkkejä, -
ja \_ sallittu) sekä komento haluamallasi komennolla tai skriptin osoitteella,
esim ./start.sh `@reboot screen -s Palvelin ./start.sh`
